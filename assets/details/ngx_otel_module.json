[
[4,"otel_exporter","Specifies OTel data export parameters:","<p>Specifies OTel data export parameters:</p><dl class=\"compact\"><dt id=\"endpoint\"><code>endpoint</code></dt><dd>the address of OTLP/gRPC endpoint that will accept telemetry data.</dd><dt id=\"interval\"><code>interval</code></dt><dd>the maximum interval between two exports, by default is <code>5</code> seconds.</dd><dt id=\"batch_size\"><code>batch_size</code></dt><dd>the maximum number of spans to be sent in one batch per worker, by default is <code>512</code>.</dd><dt id=\"batch_count\"><code>batch_count</code></dt><dd>the number of pending batches per worker, spans exceeding the limit are dropped, by default is <code>4</code>.</dd></dl><p>Example:</p><blockquote class=\"example\"><pre>otel_exporter {\n    endpoint    localhost:4317;\n    interval    5s;\n    batch_size  512;\n    batch_count 4;\n}\n</pre></blockquote>",[],"<table ><tbody><tr><th>Syntax:</th><td><code><strong>otel_exporter</strong> { ... }</code><br></td></tr><tr><th>Default:</th><td>—</td></tr><tr><th>Context:</th><td><code>http</code><br></td></tr></tbody></table>"],
[4,"otel_service_name","Sets the “[`service.name`](https://opentelemetry.io/docs/reference/specification/resource/semantic_conventions/#service)” attribute of the OTel resource.","<p>Sets the “<a href=\"https://opentelemetry.io/docs/reference/specification/resource/semantic_conventions/#service\"><code>service.name</code></a>” attribute of the OTel resource.</p>",[],"<table ><tbody><tr><th>Syntax:</th><td><code><strong>otel_service_name</strong> <code>name</code>;</code><br></td></tr><tr><th>Default:</th><td><pre>otel_service_name unknown_service:nginx;</pre></td></tr><tr><th>Context:</th><td><code>http</code><br></td></tr></tbody></table>"],
[4,"otel_trace","Enables or disables OpenTelemetry tracing. The directive can also be enabled by specifying a variable:","<p>Enables or disables OpenTelemetry tracing. The directive can also be enabled by specifying a variable:</p><blockquote class=\"example\"><pre>split_clients \"$otel_trace_id\" $ratio_sampler {\n              10%              on;\n              *                off;\n}\n\nserver {\n    location / {\n        otel_trace         $ratio_sampler;\n        otel_trace_context inject;\n        proxy_pass         http://backend;\n    }\n}\n</pre></blockquote>",[],"<table ><tbody><tr><th>Syntax:</th><td><code><strong>otel_trace</strong> <code>on</code> | <code>off</code> | <code>$variable</code>;</code><br></td></tr><tr><th>Default:</th><td><pre>otel_trace off;</pre></td></tr><tr><th>Context:</th><td><code>http</code>, <code>server</code>, <code>location</code><br></td></tr></tbody></table>"],
[4,"otel_trace_context","Specifies how to propagate [traceparent/tracestate](https://www.w3.org/TR/trace-context/#design-overview) headers:","<p>Specifies how to propagate <a href=\"https://www.w3.org/TR/trace-context/#design-overview\">traceparent/tracestate</a> headers:</p><dl class=\"compact\"><dt id=\"extract\"><code>extract</code></dt><dd>uses an existing trace context from the request, so that the identifiers of a <a href=\"https://nginx.org/en/docs/ngx_otel_module.html#var_otel_trace_id\">trace</a> and the <a href=\"https://nginx.org/en/docs/ngx_otel_module.html#var_otel_parent_id\">parent span</a> are inherited from the incoming request.</dd><dt id=\"inject\"><code>inject</code></dt><dd>adds a new context to the request, overwriting existing headers, if any.</dd><dt id=\"propagate\"><code>propagate</code></dt><dd>updates the existing context (combines <a href=\"https://nginx.org/en/docs/ngx_otel_module.html#extract\">extract</a> and <a href=\"https://nginx.org/en/docs/ngx_otel_module.html#inject\">inject</a>).</dd><dt id=\"ignore\"><code>ignore</code></dt><dd>skips context headers processing.</dd></dl>",[],"<table ><tbody><tr><th>Syntax:</th><td><code><strong>otel_trace_context</strong> <code>extract</code> | <code>inject</code> | <code>propagate</code> | <code>ignore</code>;</code><br></td></tr><tr><th>Default:</th><td><pre>otel_trace_context ignore;</pre></td></tr><tr><th>Context:</th><td><code>http</code>, <code>server</code>, <code>location</code><br></td></tr></tbody></table>"],
[4,"otel_span_name","Defines the name of the OTel [span](https://opentelemetry.io/docs/concepts/observability-primer/#spans). By default, it is a name of the location for a request. The name can contain variables.","<p>Defines the name of the OTel <a href=\"https://opentelemetry.io/docs/concepts/observability-primer/#spans\">span</a>. By default, it is a name of the location for a request. The name can contain variables.</p>",[],"<table ><tbody><tr><th>Syntax:</th><td><code><strong>otel_span_name</strong> <code>name</code>;</code><br></td></tr><tr><th>Default:</th><td>—</td></tr><tr><th>Context:</th><td><code>http</code>, <code>server</code>, <code>location</code><br></td></tr></tbody></table>"],
[4,"otel_span_attr","Adds a custom OTel span attribute. The value can contain variables.","<p>Adds a custom OTel span attribute. The value can contain variables.</p>",[],"<table ><tbody><tr><th>Syntax:</th><td><code><strong>otel_span_attr</strong> <code>name</code> <code>value</code>;</code><br></td></tr><tr><th>Default:</th><td>—</td></tr><tr><th>Context:</th><td><code>http</code>, <code>server</code>, <code>location</code><br></td></tr></tbody></table>"],
[5,"<p></p><dl class=\"compact\"><dt id=\"var_otel_trace_id\"><code>$otel_trace_id</code></dt><dd>the identifier of the trace the current span belongs to, for example, <code>56552bc4daa3bf39c08362527e1dd6c4</code></dd><dt id=\"var_otel_span_id\"><code>$otel_span_id</code></dt><dd>the identifier of the current span, for example, <code>4c0b8531ec38ca59</code></dd><dt id=\"var_otel_parent_id\"><code>$otel_parent_id</code></dt><dd>the identifier of the parent span, for example, <code>dc94d281b0f884ea</code></dd><dt id=\"var_otel_parent_sampled\"><code>$otel_parent_sampled</code></dt><dd>the “<code>sampled</code>” flag of the parent span, can be “<code>1</code>” or “<code>0</code>”</dd></dl>"]
]